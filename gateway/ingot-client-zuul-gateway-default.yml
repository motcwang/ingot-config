spring:
  http:
    encoding:
      charset: UTF-8
      force: true
      enabled: true

zuul:
  add-host-header: true
  add-proxy-headers: true
  host:
    socket-timeout-millis: 60000
    connect-timeout-millis: 60000
  force-original-query-string-encoding: true
  routes:
    ac-route:
      sensitiveHeaders:
      path: /ac/**
      service-id: ingot-client-ac
      ribbon:
        eager-load:
          enabled: true
        MaxAutoRetries: 1
        MaxAutoRetriesNextServer: 2
        OkToRetryOnAllOperations: false
        ConnectTimeout: 20000
        ReadTimeout: 20000
    uc-route:
      sensitiveHeaders:
      path: /uc/**
      service-id: ingot-client-uc
      ribbon:
        eager-load:
          enabled: true
        MaxAutoRetries: 1
        MaxAutoRetriesNextServer: 2
        OkToRetryOnAllOperations: false
        ConnectTimeout: 20000
        ReadTimeout: 20000


management:
  endpoint:
    health:
      show-details: ALWAYS

#请求和响应GZIP压缩支持
feign:
  httpclient:
    enabled: false
  okhttp:
    enabled: true
  compression:
    request:
      enabled: true
      mime-types: text/xml,application/xml,application/json
      min-request-size: 2048
    response:
      enabled: true

security:
  oauth2:
    client:
      client-id: ${spring.application.name}
      client-secret: {cipher}AQAEAR9rn9ivyu63xH0Gug2M3pAtrBUH9F6tBAZcfw5jfeVuSmYTwiU+S9P0hx9TbC6Vo6ZMjvhR20UTZllxjP7hsaoDSpys6kVBYEB4EiMJdtNfmqbAr0n8dqKRb/wZ+ddE26MEOhaorGsULqvVJQ7h+clOTipGDwi7mGVyrKw/vDsb7tGWoalb/DLSSKK0WWQgdcOVXq/wTPydeziconlGYTIsYPMeGBZaHNG+Pbh7MNGKb1tLzy78dU4v+WRFI9ZX2yyTN/lPuaaDl7rH80ypvLl3Ym3bJSyaVrgffaTj+JTL7h0NYDypu92M5psLx5uwCqggyHtG7VbRiyCpwuvAjxiBEQ2cIwlpE8XSP4DZXCCHdsOelEP5SbCWE2pLAlNHnf9bHnsDeA2ZxMuiUDCVOdFUlftI5GMa0gB4ZX8vZg==%
      access-token-uri: http://ingot-auth-center:8050/oauth/token
      user-authorization-uri: http://ingot-auth-center:8050/oauth/authorize
    resource:
      id: ingot-resource-zuul-gateway
      user-info-uri: http://ingot-auth-center:8050/user
      prefer-token-info: false
      jwt:
        key-uri: http://ingot-auth-center:8050/oauth/token_key

proxy:
  auth:
    routes:
      ac-route: oauth2
      uc-route: oauth2

ingot:
  job:
    xxl:
      admin:
        addresses: http://${INGOT_TMC_HOST:ingot-task-manager-center}:8060
      executor:
        appname: ${spring.application.name}
        ip:
        port: 9700
        logpath: /data/ingot/logs/${spring.application.name}/jobhandler
        logretentiondays: -1
      accessToken: {cipher}AQAtwvc5C4DtPRs979eH9vephJimHZMSy8Whv99+SC8P9h7dhZFEM2iyUQM7uyg04giLufDmPHye5YhzsMXuSDgAc+eky3B/CeCwnfSC0tcvuCekC6S/hpS6p/TYDv+oXbWqoGffQuE9IrjTC46rOv6C1fVOJRCy1vXqe8Xw6l6O2hBpO9NDrzf+lTRNi53XYrTwRPokuTehusF0s2XzfEG9JRET+tiVb8gxKv/cAUJYgBQcBFmqKiPFauQ20l3fxQHNNCd0H6KY0zlP4+75cNRo1MB4X8ukEEZF5c46bH2IBzy+6OJY5JTx+K2cudKsDHPEHzAXwzYIjdlAtQ/yKtqhzb46BohWNvizO7DzeemGjvYT5WJbgHfOMrDMjGboxtXDzYbONozy6NS2UsJERgxY%
  application:
    dataCenterId: 2
    machineId: 0
  oauth2:
    resource:
      permit:
        - /ac/auth/user/refreshToken
        - /ac/auth/code/**
        - /ac/auth/login
        - /ac/auth/admin/login
        - /ac/auth/admin/modifyPasswordByMobile
